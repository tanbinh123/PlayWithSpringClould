### 驱动大型网站技术发展的主要力量是网站的业务发展

> 是业务成就了技术，是事业成就了人，而不是相反。

### 企图用技术解决所有问题

> 技术是用来解决业务问题的，而业务的问题，也可以通过业务的手段去解决。

### 模式

> 关于什么是模式，这个来自建筑学的词汇是这样定义的：“每一个模式描述了一个在我们周围不断重复发生的问题及该问题的解决方案的核心。这样，你就能一次又一次地使用该方案而不必要重复工作”。

我们的现实生活中充斥着几乎千篇一律的人生架构模式：读重点学校，选热门专业，进稳定高收入的政府部门和企业，找门当户对的配偶，生一个听话的孩子继续这个模式......可是，人生不同于软件，精彩的人生绝不会来自复制。

### 软件架构

> 有关软件整体结构与组件的抽象描述，用于指导大型软件系统各个方面的设计

一般来说，除了当前的系统功能需求外，软件架构还需要关注**性能**、**可用性**、**伸缩性**、**扩展性**和**安全性**这 5 个架构要素。

高可用设计的目标是在服务器宕机的时候，服务或者应用依然可用。

### 性能

网站性能优化第一定律：优先使用缓存优化性能

> 网站数据的访问也遵循幂律曲线（二八定律，川普说的一九定律），即 80% 的访问落在 20% 的数据上，将这 20% 的数据缓存起来，可以很好的改善系统性能。

缓存雪崩：当缓存服务崩溃时，数据库会因为完全不能承受如此大的压力而宕机，进而导致整个网站不可用。
实践中，有的网站通过缓存热备（镜像）手段提高缓存可用性：当某台缓存服务器挂掉的时候，将缓存访问切换到热备服务器上，这种设计违背了缓存的初衷，缓存根本不应该被当做一个可靠的数据源来使用。

通过分布式缓存服务器集群，将缓存数据分布到多台缓存服务器上可一定程度改善缓存的可用性。当一台服务器挂掉的时候，只有部分缓存数据丢失，重新去数据库加载这部分数据不会对数据库产生很大影响。

缓存预热（warm up）：对于一些元数据如城市地名列表、类目信息，可以在系统启动时加载数据库中全部数据到缓存预热。

缓存穿透：如果因为业务不恰当、或者恶意攻击持续高并发地请求某个不存在的数据，由于缓存没有保存该数据，所有的请求都会落到数据库上。一个简单的对策是将不存在的数据也缓存起来（其 value 值为 null）。

